<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0014)about:internet -->
<html xmlns:MSHelp="http://www.microsoft.com/MSHelp/" lang="en-us" xml:lang="en-us"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="Linking with ScaLAPACK and Cluster FFTs on Intel Xeon Phi Coprocessors">
<meta name="DC.subject" content="cluster software, linking with, on Intel&reg; Xeon Phi&#8482; coprocessors, Cluster FFT, linking with, ScaLAPACK, linking with">
<meta name="keywords" content="cluster software, linking with, on Intel&reg; Xeon Phi&#8482; coprocessors, Cluster FFT, linking with, ScaLAPACK, linking with">
<meta name="DC.Relation" scheme="URI" content="GUID-D0627E59-8D1C-4935-8DF4-BA14AB65B09B.htm">
<meta name="DC.Relation" scheme="URI" content="GUID-54BC01C4-F549-43EE-AD0A-51C492A53D9F.htm">
<meta name="DC.Relation" scheme="URI" content="GUID-781C2B10-38D6-45C2-AB27-152B9061DCB7.htm">
<meta name="DC.Relation" scheme="URI" content="GUID-DF5E72C6-E420-4B31-B6B1-3D4901E62F9C.htm">
<meta name="DC.Relation" scheme="URI" content="GUID-CC6E9649-B783-41BC-9ECD-83747C4273F4.htm#GUID-CC6E9649-B783-41BC-9ECD-83747C4273F4">
<meta name="DC.Relation" scheme="URI" content="GUID-80557698-368F-44B6-BE68-814157DE7FC4.htm#GUID-80557698-368F-44B6-BE68-814157DE7FC4">
<meta name="DC.Relation" scheme="URI" content="GUID-7F33FE6A-1E79-46F4-82F9-AE1E08B8CB34.htm#GUID-7F33FE6A-1E79-46F4-82F9-AE1E08B8CB34">
<meta name="DC.Relation" scheme="URI" content="http://www.intel.com/software/products/softwaredocs_feedback">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="GUID-1EEF7412-353A-4090-A57A-1151B4270E4D">
<meta name="DC.Language" content="en-US">
<link rel="stylesheet" type="text/css" href="intel_css_styles.css">
<title>Linking with ScaLAPACK and Cluster FFTs on Intel Xeon Phi Coprocessors</title>
<xml>
<MSHelp:Attr Name="DocSet" Value="Intel"></MSHelp:Attr>
<MSHelp:Attr Name="Locale" Value="kbEnglish"></MSHelp:Attr>
<MSHelp:Attr Name="TopicType" Value="kbReference"></MSHelp:Attr>
</xml>
</head>
<body id="GUID-1EEF7412-353A-4090-A57A-1151B4270E4D">
 <!-- ==============(Start:NavScript)================= -->
 <script src="NavScript.js" language="JavaScript1.2" type="text/javascript"></script>
 <script language="JavaScript1.2" type="text/javascript">WriteNavLink(0);</script>
 <!-- ==============(End:NavScript)================= -->


 
  <h1 class="topictitle1">Linking with ScaLAPACK and Cluster FFTs on Intel Xeon Phi Coprocessors</h1>
 
   
  <div id="GUID-0943C4B3-CCEE-46F8-8769-30EE82B0C50B"> 
    <p id="GUID-57322131-D843-42A3-A21C-2A6B717C6FA4">The Intel MKL ScaLAPACK and Cluster FFTs support only Intel&reg; MPI implementations for Intel MIC Architecture. 
    </p>
 
    <p id="GUID-857AD1D6-3279-43AC-B22C-B5380D35491E">To link a program that calls ScaLAPACK or Cluster FFTs, you need to know how to link a message-passing interface (MPI) application first. Use MPI compiler wrappers to do this. For example, 
      <span class="filepath">mpiicc</span> or 
      <span class="filepath">mpiifort</span> are C or FORTRAN compiler wrappers, respectively, that use the correct header files and libraries. The locations of these wrappers and the MPI libraries depend on the Intel MPI version. For example, for the default installation of Intel MPI 4.1, the wrappers for the Intel MIC Architecture are 
      <span class="filepath" id="GUID-39A1DBFC-BDF4-4012-8182-44A1CB93B4E7">/opt/impi/mic/bin/mpiicc</span> and 
      <span class="filepath" id="GUID-E469B101-7CA1-4304-B1BE-5D9664014D49">/opt/impi/mic/bin/mpiifort</span>. 
    </p>
 
    <p id="GUID-2D0ADBF8-DF14-4F25-B62C-507BC25EB3FC">Check the documentation that comes with your version of Intel MPI for implementation-specific details of linking. 
    </p>
 
    <p id="GUID-16D61C70-9EA9-4540-BF8C-787BAA0CC4DD"> 
      <span id="GUID-418232B5-9CCD-4D3E-9C2E-8F73B20F6BF3">To link with Intel MKL ScaLAPACK and/or Cluster FFTs on Intel Xeon Phi coprocessors, use the link line shown below.</span> 
    </p>
 
    <div class="Note"><h3 class="NoteTipHead">
					Note</h3> 
      <p>The syntax below is for dynamic linking. For static linking: 
      </p>
 
      <ul type="disc" id="GUID-7B970EF3-87BC-4BDF-9460-54C3C6B0C864"> 
        <li>Replace each library name preceded with "<samp class="codeph" id="GUID-6DB9EAC8-A550-48A6-A373-6C0A31BE8C09">-l</samp>" with the path to the library file. For example, replace 
          <samp class="codeph" id="GUID-A0411857-D3ED-45F8-9E5F-2FDBBA074BF8">-lmkl_core</samp> with 
          <samp class="codeph" id="GUID-9C8F5987-62FD-4A4E-A3FB-96A5764711BF">$MKLPATH/libmkl_core.a</samp>, where 
          <samp class="codeph" id="GUID-64BB312D-CB3A-4E15-B74B-83FFF443813E">$MKLPATH</samp> is the appropriate user-defined environment variable. 
        </li>
 
        <li>Enclose the cluster components, interface, threading, and computational libraries in grouping symbols 
          <samp class="codeph" id="GUID-FCBAF1AD-8335-4747-BBDC-8649CD514FA8">-Wl,--start-group</samp> and 
          <samp class="codeph" id="GUID-90B52697-02A4-44C8-935D-78DFF64DB5AA">-Wl,--end-group</samp>. 
        </li>
 
      </ul>
 
    </div> 
    <p id="GUID-4533AD3D-700C-467C-A664-33FF16A8007D"><samp class="codeph" id="GUID-D9FE44F3-E7D4-4EB2-90F0-FBF4A446FC7F">/opt/impi/mic/bin/mpi{icc|ifort} 
        <var>&lt;files to link&gt;</var> -L<var>&lt;MKL path&gt;</var> -I<var>&lt;MKL include&gt;</var></samp> 
    </p>
 
    <p id="GUID-10CF87E1-31AB-41E2-9D24-894A4C592609"> 
      <samp class="codeph" id="GUID-B17D3BF9-91F8-4314-8547-BE9C544F56A8">[-lmkl_scalapack_{lp64|ilp64}] [-lmkl_cdft_core] 
      </samp> 
    </p>
 
    <p> 
      <samp class="codeph">-lmkl_blacs_intelmpi_{lp64|ilp64} 
      </samp> 
    </p>
 
    <p id="GUID-35F2FF37-D213-4A7A-B2E4-16192B11E79D"> 
      <samp class="codeph" id="GUID-DB27B14C-2C4B-429F-8F57-F54B54198F75">-lmkl_intel_{lp64|ilp64} 
      </samp> 
    </p>
 
    <p id="GUID-1218A3C5-EE04-4F0A-8CFB-31AA8B61413C"> 
      <samp class="codeph" id="GUID-DDEC2C6B-7100-4DC1-AEBE-4C1A370EC060">-lmkl_{intel_thread|sequential} 
      </samp> 
    </p>
 
    <p> 
      <samp class="codeph">-lmkl_core</samp> 
    </p>
 
    <p id="GUID-B68D1410-FA54-41A2-B2C0-6525E0CB2040"> 
      <samp class="codeph" id="GUID-15F767F5-F740-440C-92A9-F983079F2CBD">[-liomp5] [-lpthread] [-lm] [-ldl] 
      </samp> 
    </p>
 
    <p id="GUID-A920530B-2C9F-42C9-874C-34E3CE627C44">For example, if you are using Intel MPI 4.1, want to statically link with ScaLAPACK using the LP64 interface, and have only one MPI process per core (and thus do not use threading), specify the following linker options: 
    </p>
 
    <p id="GUID-9861C7BE-7124-4DD9-AB32-EAFD0AEB7292"> 
      <span id="GUID-F83FC6CF-E2D2-4D19-8E58-35F833B4D192"> 
        <samp class="codeph" id="GUID-C0BFA566-34E2-4901-839B-E9F192CE5D71">-L$MKLPATH -I$MKLINCLUDE $MKLPATH/libmkl_scalapack_lp64.a $MKLPATH/libmkl_blacs_intelmpi_lp64.a $MKLPATH/libmkl_intel_lp64.a $MKLPATH/libmkl_sequential.a $MKLPATH/libmkl_core.a -static_mpi -Wl,--end-group -lpthread -lm</samp> 
      </span> 
    </p>
 
    <div class="Note"><h3 class="NoteTipHead">
					Tip</h3> 
      <p>Use the 
        <a href="GUID-E31BB31D-8F02-4B79-A8D2-0ED5D5C8DE93.htm"><span id="GUID-50B155BA-00A4-473E-9756-DC6A56F19559">Link-line Advisor</span></a> to quickly choose the appropriate set of libraries and linker options. 
      </p>
 
    </div> 
    <p> 
	 
<div class="tablenoborder"><a name="d20e18"><!-- --></a><table cellpadding="4" summary="" id="d20e18" frame="border" border="1" cellspacing="0" rules="all"> 
		   
		  <thead align="left"> 
			 <tr> 
				<th class="cellrowborder" align="left" valign="top" width="100%" id="d8458e190"> 
				  <p id="d20e30"><a name="d20e30"><!-- --></a>Optimization Notice 
				  </p>
 
				</th>
 
			 </tr>
</thead>
 
		  <tbody> 
			 <tr> 
				<td class="bgcolor(#ccecff)" bgcolor="#ccecff" valign="top" width="100%" headers="d8458e190 "> 
				  <p>Intel's compilers may or may not optimize to the same degree for non-Intel microprocessors for optimizations that are not unique to Intel microprocessors. These optimizations include SSE2, SSE3, and SSSE3 instruction sets and other optimizations. Intel does not guarantee the availability, functionality, or effectiveness of any optimization on microprocessors not manufactured by Intel. Microprocessor-dependent optimizations in this product are intended for use with Intel microprocessors. Certain optimizations not specific to Intel microarchitecture are reserved for Intel microprocessors. Please refer to the applicable product User and Reference Guides for more information regarding the specific instruction sets covered by this notice. 
				  </p>

				  <p> Notice revision #20110804 
				  </p>
				  

				  </td>
 
			 </tr>
 
		  </tbody>
 
		</table>
</div>
 
	 </p>
 
  </div>
 
  
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong>&nbsp;<a href="GUID-D0627E59-8D1C-4935-8DF4-BA14AB65B09B.htm">Running Intel MKL on an Intel Xeon Phi Coprocessor in Native Mode</a></div>
</div>
<div class="See Also">
<ul class="ullinks">
<li class="ulchildlink"><a href="GUID-54BC01C4-F549-43EE-AD0A-51C492A53D9F.htm">Examples of Linking a C Application for Intel&reg; Many Integrated Core Architecture</a><br>
</li>
<li class="ulchildlink"><a href="GUID-781C2B10-38D6-45C2-AB27-152B9061DCB7.htm">Examples of Linking a Fortran Application for Intel&reg; Many Integrated Core Architecture</a><br>
</li>
</ul>
<h2>See Also</h2>
<div class="linklist">
<div><a href="GUID-DF5E72C6-E420-4B31-B6B1-3D4901E62F9C.htm">Linking Your Application with the Intel&reg; Math Kernel Library 
        </a>  
        </div>
<div><a href="GUID-CC6E9649-B783-41BC-9ECD-83747C4273F4.htm#GUID-CC6E9649-B783-41BC-9ECD-83747C4273F4">Setting the Number of Threads</a></div>
<div><a href="GUID-80557698-368F-44B6-BE68-814157DE7FC4.htm#GUID-80557698-368F-44B6-BE68-814157DE7FC4">Using Shared Libraries</a></div>
<div><a href="GUID-7F33FE6A-1E79-46F4-82F9-AE1E08B8CB34.htm#GUID-7F33FE6A-1E79-46F4-82F9-AE1E08B8CB34">Building ScaLAPACK Tests</a></div></div><br clear="all">
<div class="docfeedback">
<div><a href="http://www.intel.com/software/products/softwaredocs_feedback" target="_blank">Submit feedback on this help topic 
		  </a></div></div></div> 

</body>
</html>
